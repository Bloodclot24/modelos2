\documentclass{article}

\usepackage[spanish]{babel}
\selectlanguage{spanish}
\usepackage[utf8]{inputenc}

\title{Trabajo Práctico 1\\Teoría de Colas}
\author{}
\date{\today}

%%% Agregar integrantes del grupo %%%

\begin{document}
\maketitle

%%%% Poner el enunciado aca.. y un indice %%%%
\paragraph{Ejercicio 1}
    El modelo elegido para este sistema es P/P/1. Las distribuciones Poisson de los arribos y las salidas concuerdan con las de este modelo, y además se explicita que no hay impaciencia. Se asumen también las siguientes hipótesis:
    \begin{itemize}
        \item El tipo de arribo responde a distribución Poisson; es dato.
        \item El tipo de proceso de servicio responde a distribución Poisson; también es dato, ya que el tiempo de servicio tiene distribución exponencial. 
        \item Un único canal de atención; es dato.
        \item Sistema de capacidad infinita.
        \item Disciplina de atención FIFO.
        \item Población infinita.
        \item Cola única.
        \item Población sin impaciencia; es dato.
        \item Sistema en régimen permanente.
    \end{itemize}
    
    Los datos proporcionados son la velocidad de ingreso $ \lambda = 24/h $ y el tiempo promedio de atención $ t_s = 2 min $, a partir del cual podemos calcular la tasa de atención $ \mu = \frac{1}{t_s} = \frac{1}{2min} \; \frac{60min}{h} = \frac{30}{h} $.

    \paragraph{1.a.} El número promedio de clientes en la sección de sastrería equivale a la cantidad de clientes en nuestro sistema, $ L $. De la combinación de la tabla de estados y la ecuación de estado para un sistema P/P/1 se obtiene la siguiente expresión para $ L $:

    $$ L = \frac{\lambda}{\mu - \lambda} = \frac{24 h^{-1}}{30 h^{-1} - 24 h^{-1}} = \frac{24}{6} = 4 $$

    \paragraph{1.b.} Equivale al tiempo promedio de permanencia en el sistema de un cliente. Puede obtenerse como el tiempo de permanencia en la cola más el tiempo de atención del cliente:
    
    $$ w = w_c + t_s = \frac{L_c}{\bar\lambda} + t_s = \frac{\lambda^2}{\lambda\mu(\mu-\lambda)} + t_s = \frac{\lambda}{\mu(\mu-\lambda)} + t_s $$
    $$ w = \frac{\lambda}{\mu(\mu-\lambda)} + t_s = \frac{24 h^{-1}}{30 h^{-1}(30 h^{-1} - 24 h^{-1})} + 2 min = \frac{24 h^{-1}}{30 h^{-1} \; 6 h^{-1}} + 2 min $$
    $$ w = \frac{2}{15} h \; \frac{60min}{h} + 2 min = 8 min + 2 min $$
    $$ w = 10 min $$

    \paragraph{1.c.} Corresponde a la probabilidad de que no haya clientes en el sistema, siendo para P/P/1:
    
    $$ p(0) = 1 - \rho = 1 - \frac{\lambda}{\mu} = 1 - \frac{24h^{-1}}{30h^{-1}} = 1 - \frac{4}{5} = \frac{1}{5} = 0.2 $$
    
    \paragraph{1.d.} Lo que se pide es el número promedio de clientes en la cola:
    
    $$ L_c = \frac{\lambda^2}{\mu(\mu - \lambda)} = \frac{24^2h^{-2}}{30h^{-1}(30h^{-1}-24h^{-1})} = \frac{576h^{-1}}{30 \cdot 6h^{-1}} = \frac{576}{180} = \frac{16}{5} = 3.2 $$

\paragraph{Ejercicio 2}
    El sistema en cuestión es similar al anterior, puede modelarse como P/P/1 con las mismas hipótesis. Los datos son $ \lambda = 4h^{-1} $, $ t_s = 6min \Rightarrow \mu = \frac{1}{6min} \; \frac{60min}{h} = 10h^{-1} $.
    
    \paragraph{2.a.} Corresponde a la probabilidad de que no haya clientes en el sistema, siendo para P/P/1:
    
    $$ p(0) = 1 - \rho = 1 - \frac{\lambda}{\mu} = 1 - \frac{4h^{-1}}{10h^{-1}} = 1 - \frac{2}{5} = \frac{3}{5} = 0.6 $$
    
    \paragraph{2.b.} 
    $$ p(3) = \rho^{3}p(0) = \left( \frac{\lambda}{\mu} \right)^{3} \frac{3}{5} = \left( \frac{2}{5} \right)^{3} \frac{3}{5} = \frac{8\cdot3}{125\cdot5} = \frac{24}{625} = 0.0384 $$
    
    \paragraph{2.c.} La probabilidad de encontrar al menos un cliente en el taller es la probabilidad de que haya entre uno e infinitos clientes: $ \sum _{n=1}^{\infty} {p(n)} $. Teniendo en cuenta que $ \sum _{n=0}^{\infty} {p(n)} = p(0) + \sum _{n=1}^{\infty} {p(n)} = 1 $ podemos concluir:
     
     $$ \sum _{n=1}^{\infty} {p(n)} = 1 - p(0) = 1 - (1 - \rho) = \rho = \frac{\lambda}{\mu} = \frac{2}{5} = 0.4 $$
    
    \paragraph{2.d.}
    $$ L = \frac{\lambda}{\mu - \lambda} = \frac{4h^{-1}}{10h^{-1} - 4h^{-1}} = \frac{4h^{-1}}{6h^{-1}} = \frac{2}{3} = 0.\overline{6} $$
    
    \paragraph{2.e.} 
    $$ w = w_c + t_s = \frac{\lambda}{\mu(\mu - \lambda)} + 6min = \frac{4h^{-1}}{10h^{-1}(10h^{-1} - 4h^{-1})} + 6min $$
    $$ w = \frac{4}{10\cdot6h^{-1}} + 6min = \frac{h}{15}\frac{60min}{h} + 6min = 4min + 6 min = 10min $$
    
    \paragraph{2.f.} Equivale a la longitud de la cola:
    
    $$ L_c = \frac{\lambda^2}{\mu(\mu - \lambda)} = \frac{4^2 h^{-2}}{10h^{-1}(10h^{-1} - 4h^{-1})} = \frac{16h^{-2}}{10\cdot 6h^{-2}} = \frac{4}{15} = 0.2\overline{6} $$
    
    \paragraph{2.g.}
    $$ w_c = \frac{L_c}{\lambda} = \frac{4}{15} \frac{h}{4} = \frac{h}{15} \frac{60min}{h} = 4 min $$
    
\paragraph{Ejercicio 3}
    Este problema también corresponde a un modelo P/P/1, ya que los tiempos entre arribos y de servicio con distribución exponencial corresponden a arribos y salidas con distribución Poisson. Se toman las mismas hipótesis que en los ejercicios anteriores. Los datos son: $ t_a = 8min $, $ t_s = 2min $.

    \paragraph{3.a.} La probabilidad de que un cliente tenga que esperar es la probabilidad de que el canal esté ocupado, es decir que haya más de un cliente en el sistema:
    
    $$ \sum _{n=1}^{\infty} p(n) = 1 - p(0) = 1 - (1 - \rho) = \rho = \frac{\lambda}{\mu} = \frac{t_s}{t_a} = \frac{2min}{8min} = \frac{1}{4} = 0.25 $$    

    \paragraph{3.b.}
    $$ L_c = \frac{\lambda^2}{\mu(\mu - \lambda)} = \frac{\frac{1}{8^{2}} min^{-2}}{\frac{1}{2} min^{-1} \left( \frac{1}{2} - \frac{1}{8} \right) min^{-1}} $$
    $$ L_c = \frac{1}{64} :   \left( \frac{1}{2} \cdot \frac{3}{8} \right) = \frac{1}{64} \cdot \frac{16}{3} = \frac{1}{12} = 0.08\overline{3} $$

    \paragraph{3.c.} Para averiguar la velocidad promedio de arribos $ \overline \lambda $ que resultaría en tiempos de espera en la cola mayores a 4 minutos, se debe despejar dicha variable de la fórmula de espera promedio en la cola. En el modelo P/P/1 se cumple que $ \lambda = \overline \lambda $, por lo tanto:
    
    $$ w_c = \frac{\lambda}{\mu(\mu - \lambda)} > 4 min $$

    Aplicando la función monótonamente decreciente $ f(x) = x^{-1} $ resulta:

    $$ \frac{\mu(\mu - \lambda)}{\lambda} < \frac{1}{4min} \Rightarrow \mu(\mu - \lambda) < \frac{\lambda}{4min} $$
    $$ \mu^2 - \mu \lambda < \frac{\lambda}{4min} \Rightarrow \mu^2 < \lambda \left( \frac{1}{4min} + \mu \right) $$
    $$ \frac{\mu^2}{\frac{1}{4min} + \mu} < \lambda \Rightarrow \frac{\left( \frac{1}{2min} \right)^2}{\frac{1}{4min} + \frac{1}{2min}} < \lambda $$
    $$ \frac{1}{4min} \cdot \frac{4}{3} < \lambda $$
    $$ \frac{1}{3min} < \lambda $$
    
    La velocidad promedio de arribos para que la espera supere los 4 minutos debería ser al menos de un cliente cada 3 minutos.
    
    
    
\paragraph{Ejercicio 6}
    Se puede modelar la peluquería como un P/P/M con M=2, ya que ambos peluqueros atienden en paralelo. Si bien el sistema es ilimitado, los clientes son impacientes con lo cual hay un número finito de estados posibles.
    La siguiente tabla describe al sistema:
    \begin{center}
    \begin{tabular}{|| c | c | c | c | c | c | c | c ||}
    \hline 
     n & P(n) & $\lambda_n$ & $\mu_n$ & $L_n$& $L_cn$ & $H_n$ & $R_n$ \\ \hline \hline
     0 & P(0) & $\lambda$   & 0       & 0    & 0      & 0     & 0	\\ \hline
     1 & P(1) & $\lambda$   & $\mu$   & 1    & 0      & 1     & 0	\\ \hline
     2 & P(2) & $\lambda$   & 2$\mu$  & 2    & 0      & 2     & 0	\\ \hline
     3 & P(3) & $\lambda$/2 & 2$\mu$  & 3    & 1      & 2     & $\lambda$/2 \\ \hline
     4 & P(4) & 0           & 2$\mu$  & 4    & 2      & 2     & $\lambda$   \\ \hline  
     
    \end{tabular}
    \end{center}
    \underline{Datos:} \\
    $$t_s = 0,5 h/cl  \Rightarrow \mu = 2 cl/h $$
    $$\lambda = 5 cl/h $$
    
    \paragraph{6.a.} La probabilidad de que no haya clientes en la peluquería es P(0). Para eso, se calcurarán todas las probabilidades a partir de la tabla.
    
    \paragraph{6.b.} La probabilidad de que haya clientes esperando se relaciona con la probabilidad de los estados 3 y 4. \\
    $$P(3) + P(4) = ..$$
    
    \paragraph{6.c.} El porcentaje de ocupación de cada peluquero (o canal) es: \\
    $$\frac{H}{M} = \frac{H}{2} = $$
    
    \paragraph{6.d.} La cantidad promedio de clientes esperando se obtiene mediante $L_c$
    
    \paragraph{6.e.} La cantidad promedio de clientes que no ingresan es igual al rechazo R.
    
    \paragraph{6.f.} Para obtener el ingreso por hora, se debe calcular la cantidad de clientes atendidos por hora, es decir $\mu$.\\
    Se sabe que la cantidad de clientes atendidos es igual a la cantidad de clientes que efectivamente ingresan, entonces \\
  %%  \overline{\mu} = \bar{\lamda} = \lamda - R
  
    ... TO BE CONTINUED ...

\paragraph{Ejercicio 7}

\paragraph{Ejercicio 8}
   Para modelar el sistema presentado en este ejercicio, se plantean las siguientes hipótesis:

   \begin{itemize}
      \item Población infinita.
      \item No hay impaciencia.
      \item No hay rechazo.
   \end{itemize}

   Los estados posibles del sistema son:
   \begin{center}
   \begin{tabular}{|| c | c | c | c | c | c | c ||}
   \hline 
      n     & P(n) & $\lambda_n$         & $\mu_n$ & $L_n$& $L_cn$ & $H_n$ \\ \hline \hline
      0     & P(0) & $\lambda$           & 0       & 0    & 0      & 0     \\ \hline
      1     & P(1) & $\lambda + 0.1 \mu$ & $\mu$   & 1    & 0      & 1     \\ \hline
      2     & P(2) & $\lambda + 0.1 \mu$ & $\mu$   & 2    & 1      & 1     \\ \hline
      3     & P(3) & $\lambda + 0.1 \mu$ & $\mu$   & 3    & 2      & 1     \\ \hline
      4     & P(4) & $\lambda + 0.1 \mu$ & $\mu$   & 4    & 3      & 1     \\ \hline
      $...$ & $...$& $...$               & $...$   & $...$& $...$  & $...$ \\ \hline
      n     & P(n) & $\lambda + 0.1 \mu$ & $\mu$   & n    & n-1    & 1     \\ \hline
   \end{tabular}
   \end{center}

   \underline{Datos:} \\
   $$\lambda = 5 cl/min $$
   $$\mu = 10 cl/min $$

   \paragraph{Cálculo de P(n)}
   Para obtener los datos solicitados en este ejercicio, es necesaria una expresión de $P(n)$, partiendo de la ecuación de estado de régimen permanente.

      $$0 = p(n-1) \lambda_{n-1} - p(n) (\lambda_n + \mu_n) + p(n+1) \mu_{n+1}$$

      \begin{itemize}
         \item{n = 0}
            $$0 = p(0) (\lambda + 0) + p(1) \mu$$
            $$\Rightarrow p(1) = p(0) \lambda / \mu$$
         \item{n = 1}
            $$0 = p(0) \lambda - p(1) (\lambda + 0.1 \mu + \mu) + p(2) \mu$$
            $$\Rightarrow p(2) = p(1) (\lambda + 0.1 \mu) / \mu$$
         \item{n = 2}
            $$0 = p(1) (\lambda + 0.1 \mu) - p(2) (\lambda + 0.1 \mu + \mu) + p(3) \mu$$
            $$\Rightarrow p(3) = p(2) (\lambda + 0.1 \mu) / \mu$$
         \item{n = 3}
            $$0 = p(2) (\lambda + 0.1 \mu) - p(3) (\lambda + 0.1 \mu + \mu) + p(4) \mu$$
            $$\Rightarrow p(4) = p(3) (\lambda + 0.1 \mu) / \mu$$
      \end{itemize}

   De lo que se deduce que, para $n = 1$:
      $$\Rightarrow p(1) = p(0) \lambda / \mu$$

   Y, para $n > 1$:
      $$\Rightarrow p(n) = p(n - 1) (\lambda + 0.1 \mu ) / \mu$$
      $$\Rightarrow p(n) = p(1) (\frac{\lambda + 0.1 \mu}{\mu})^n$$
      $$\Rightarrow p(n) = p(0) (\frac{\lambda + 0.1 \mu}{\mu})^n \lambda / \mu$$

   Dado que, para cualquier distribución de probabilidades discreta:
      $$\sum_{n=0}^{+\infty} p(n) = 1$$

   Puede obtenerse la siguiente expresión:
      $$\sum_{n=0}^{+\infty} p(n) = 1 = p(0) + p(1) + \sum_{n=2}^{+\infty} p(n)$$
      $$1 = p(0) + p(0) \lambda / \mu + \sum_{n=2}^{+\infty} p(0) (\frac{\lambda + 0.1 \mu}{\mu})^{n-2} \lambda / \mu$$
      $$1 = p(0) + p(0) \lambda / \mu + p(0) \lambda / \mu \sum_{n=0}^{+\infty} (\frac{\lambda + 0.1 \mu}{\mu})^n$$

   Dado que $\frac{\lambda + 0.1 \mu}{\mu} < 1$
      $$1 = p(0) + p(0) \lambda / \mu + p(0) \lambda / \mu (\frac{1}{1 - \frac{\lambda + 0.1\mu}{\mu}})$$
      $$1 = p(0) [1 + \lambda / \mu + \lambda / \mu (\frac{1}{1 - \frac{\lambda + 0.1\mu}{\mu}})]$$

   Reemplazando los valores de $\lambda$ y $\mu$:
      $$1 = p(0) [1 + 8/10 + 8/10 (\frac{1}{1 - 9/10})] = 9.8 p(0)$$
      $$\Rightarrow p(0) = 10 / 98 \simeq 0.10204$$

   \paragraph{8.a.} La cantidad promedio de clientes en la cola es $ \overline{L_{c}}$.
      $$ \overline{L_{c}} = \overline{L} - (1 - P(0))$$
      $$\overline{L} = \sum_{n=0}^{+\infty} n p(n) = 0 p(0) + 1 p(1) + \sum_{n=2}^{+\infty} n p(n)$$
      $$... = 8/10 p(0) + \sum_{n=1}^{+\infty} n p(0) (\frac{\lambda + 0.1 \mu}{\mu})^n$$

      Sabiendo que, $\rho < 1 \Rightarrow \sum_{n=0}^{+\infty} n \rho^n = \frac{\rho}{(1- \rho)^2}$
      $$L_{raya} = 8/10 p(0) + p(0) \frac{\frac{\lambda + 0.1 \mu}{\mu}}{(1 - \frac{\lambda + 0.1 \mu}{\mu})^2}$$
      $$... = 8/10 p(0) + p(0) \frac{9/10}{1/10^2}$$
      $$... = 8/10 p(0) + p(0) 90$$
      $$... = 8/10 (10/98) + (10/98) 90$$
      $$\Rightarrow \overline{L} \simeq 9.265$$

      Por lo tanto: $\overline{L_{c}} \simeq 9.265 - (1-10/98) \simeq 8.3673$ clientes.


   \paragraph{8.b.} El tiempo promedio de permanencia de un cliente en la cola es $W_c$.
      $$W_c = \frac{L_c}{\overline{\lambda}}$$
      $$\overline{\lambda} = \sum_{n=0}^{+\infty} \lambda_n p(n) = p(0) \lambda + \sum_{n=1}^{+\infty} p(n) (\lambda + 0.1 \mu) $$
      $$... = p(0) \lambda + (1 - p(0)) (\lambda + 0.1 \mu) $$
      $$... = (10/98) 8 + (88/98) 9$$
      $$\Rightarrow \overline{\lambda} = 872/98 \simeq 8.898$$

      Por lo tanto: $W_c \simeq 8.3673 / 8.898 \simeq 0.9404$ minutos.


   \paragraph{8.c.} $p(canal\:no\:ocioso) = p(n \ge 1) = 1 - p(0) = 88/98$

   \paragraph{8.d.} La cantidad de clientes promedio en el sistema es $L$, calculado previamente, en la sección $8.a$.
      $$L = 9.265$$

\end{document}

